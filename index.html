<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>The Crystal Chronicles</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=Montserrat:wght@300;400&display=swap');

        :root {
            /* ENCHANTED FOREST THEME */
            --bg-deep: #051d10;
            --bg-mid: #0f3d2e;
            --bg-light: #1e5e54;
            --accent-glow: #64ffda;
            --accent-gold: #ffd700;
            --paper-color: #f0f4c3;
            /* Light greenish parchment */
            --text-color: #1b5e20;
            --highlight-bg: rgba(100, 255, 218, 0.15);
            --highlight-border: #64ffda;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background: radial-gradient(circle at center, var(--bg-mid), var(--bg-deep));
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            font-family: 'Montserrat', sans-serif;
            color: var(--text-color);
        }

        /* --- BACKGROUND EFFECTS --- */
        .global-texture {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            opacity: 0.1;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='1'/%3E%3C/svg%3E");
        }

        .crystal-glow {
            position: absolute;
            border-radius: 50%;
            filter: blur(60px);
            opacity: 0.3;
            animation: pulseGlow 10s infinite alternate ease-in-out;
            z-index: 0;
        }

        .glow-1 {
            width: 600px;
            height: 600px;
            background: #1e5e54;
            top: -150px;
            left: -150px;
        }

        .glow-2 {
            width: 500px;
            height: 500px;
            background: #004d40;
            bottom: -100px;
            right: -100px;
            animation-delay: -5s;
        }

        @keyframes pulseGlow {
            0% {
                transform: scale(1);
                opacity: 0.3;
            }

            100% {
                transform: scale(1.1);
                opacity: 0.5;
            }
        }

        .particles-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
        }

        .wisp {
            position: absolute;
            background: #64ffda;
            border-radius: 50%;
            box-shadow: 0 0 15px #64ffda, 0 0 30px #64ffda;
            opacity: 0;
            filter: blur(1px);
            animation: floatWisp 15s infinite linear;
        }

        @keyframes floatWisp {
            0% {
                transform: translateY(110vh) translateX(0) scale(0.5);
                opacity: 0;
            }

            20% {
                opacity: 0.8;
            }

            80% {
                opacity: 0.6;
            }

            100% {
                transform: translateY(-10vh) translateX(40px) scale(1);
                opacity: 0;
            }
        }

        /* --- INTRO SCREEN --- */
        .intro-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #001e15;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 1.5s ease-in-out, visibility 1.5s;
        }

        .intro-screen.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .intro-title {
            font-family: 'Cinzel', serif;
            font-size: 3.5rem;
            color: #b2dfdb;
            text-align: center;
            opacity: 0;
            transform: translateY(30px);
            animation: textRise 2s forwards 0.5s;
            text-shadow: 0 0 20px rgba(100, 255, 218, 0.4);
            border-bottom: 2px solid #64ffda;
            padding-bottom: 15px;
        }

        .intro-btn {
            margin-top: 60px;
            padding: 15px 50px;
            border: 2px solid #64ffda;
            background: rgba(100, 255, 218, 0.05);
            color: #64ffda;
            font-family: 'Cinzel', serif;
            font-size: 1.2rem;
            letter-spacing: 3px;
            cursor: pointer;
            border-radius: 4px;
            opacity: 0;
            animation: fadeInBtn 1.5s forwards 2s;
            transition: all 0.4s ease;
            text-transform: uppercase;
        }

        .intro-btn:hover {
            background: #64ffda;
            color: #004d40;
            box-shadow: 0 0 30px rgba(100, 255, 218, 0.6);
            transform: translateY(-3px);
        }

        @keyframes textRise {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInBtn {
            to {
                opacity: 1;
            }
        }

        /* --- DIARY CONTAINER --- */
        .notebook-container {
            position: relative;
            z-index: 10;
            width: 90vw;
            max-width: 460px;
            height: 75vh;
            perspective: 2500px;
            transition: transform 1s cubic-bezier(0.25, 1, 0.5, 1);
        }

        .notebook-container.closed {
            transform: translateY(60vh) scale(0.6) rotateX(20deg);
            opacity: 0;
        }

        .notebook {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
        }

        /* --- BINDING --- */
        .binding-coil {
            position: absolute;
            left: -25px;
            top: 15px;
            bottom: 15px;
            width: 50px;
            z-index: 60;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            pointer-events: none;
        }

        .coil-ring {
            width: 100%;
            height: 15px;
            background: linear-gradient(90deg, #37474f, #cfd8dc 50%, #37474f);
            border-radius: 10px;
            transform: rotate(-3deg);
            box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.6);
        }

        /* --- PAGES --- */
        .page {
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: var(--paper-color);
            /* Creamy parchment */
            border-radius: 4px 12px 12px 4px;
            transform-origin: left center;
            transition: transform 0.8s cubic-bezier(0.645, 0.045, 0.355, 1);
            cursor: pointer;
            box-shadow: inset 25px 0 40px rgba(0, 0, 0, 0.08), 5px 5px 20px rgba(0, 0, 0, 0.3);
            border: 1px solid #c8e6c9;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .page.flipped {
            transform: rotateY(-180deg);
            pointer-events: none;
        }

        .pageui-texture {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23a5d6a7' fill-opacity='0.15'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            opacity: 0.6;
            pointer-events: none;
        }

        .page-content {
            padding: 3rem 2.5rem;
            flex-grow: 1;
            overflow-y: auto;
            font-size: 1.15rem;
            line-height: 1.8;
            font-family: 'Cormorant Garamond', serif;
            color: #2e7d32;
            position: relative;
            z-index: 5;
        }

        .page-content::-webkit-scrollbar {
            width: 5px;
        }

        .page-content::-webkit-scrollbar-thumb {
            background: #a5d6a7;
            border-radius: 3px;
        }

        /* --- COVER --- */
        .cover {
            background: linear-gradient(135deg, #004d40 0%, #00251a 100%);
            border: 2px solid #004d40;
            color: #e0f2f1;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.8);
        }

        .cover-frame {
            border: 2px solid #80cbc4;
            padding: 2px;
            width: 85%;
            height: 85%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cover-inner {
            border: 1px solid #4db6ac;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(3px);
        }

        .cover-title {
            font-family: 'Cinzel', serif;
            font-size: 3rem;
            margin-bottom: 20px;
            background: linear-gradient(to bottom, #e0f2f1, #80cbc4);
            /* Silver to Teal */
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            text-align: center;
            line-height: 1.2;
        }

        .cover-subtitle {
            font-family: 'Montserrat', sans-serif;
            font-size: 0.8rem;
            letter-spacing: 4px;
            color: #b2dfdb;
            text-transform: uppercase;
        }

        /* --- TYPOGRAPHY & DECO --- */
        .journal-header {
            font-family: 'Cinzel', serif;
            color: #1b5e20;
            text-align: center;
            border-bottom: 2px double #a5d6a7;
            padding-bottom: 15px;
            margin-bottom: 25px;
            font-size: 1.8rem;
            font-weight: 700;
        }

        .highlight-box {
            background: var(--highlight-bg);
            border-left: 4px solid var(--highlight-border);
            padding: 15px 20px;
            margin: 20px 0;
            font-style: italic;
            color: #004d40;
            font-size: 1.3rem;
            border-radius: 0 8px 8px 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .corner-rune {
            position: absolute;
            font-size: 1.8rem;
            opacity: 0.4;
            color: #2e7d32;
            user-select: none;
        }

        .tr {
            top: 20px;
            right: 20px;
        }

        .bl {
            bottom: 20px;
            left: 20px;
            transform: rotate(180deg);
        }

        /* --- INTERACTIVE OVERLAY --- */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(5, 29, 16, 0.95);
            z-index: 2000;
            display: none;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.5s;
        }

        .crystal-card {
            background: linear-gradient(145deg, #1e5e54, #0f3d2e);
            width: 90%;
            max-width: 380px;
            padding: 2.5rem;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 0 40px rgba(100, 255, 218, 0.3);
            border: 1px solid #4db6ac;
            color: #e0f2f1;
            position: relative;
            overflow: hidden;
        }

        .crystal-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 60%);
            animation: rotateBg 10s linear infinite;
            pointer-events: none;
        }

        @keyframes rotateBg {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .crystal-card img {
            width: 140px;
            height: 140px;
            object-fit: cover;
            border-radius: 50%;
            margin-bottom: 20px;
            border: 4px solid #80cbc4;
            box-shadow: 0 0 20px rgba(100, 255, 218, 0.5);
            position: relative;
            z-index: 2;
        }

        .crystal-card h2 {
            font-family: 'Cinzel', serif;
            color: #64ffda;
            margin-bottom: 15px;
            font-size: 2rem;
            position: relative;
            z-index: 2;
        }

        .crystal-card p {
            position: relative;
            z-index: 2;
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        .btn-group {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 25px;
            position: relative;
            z-index: 5;
        }

        .magic-btn {
            padding: 10px 30px;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .btn-accept {
            background: linear-gradient(45deg, #64ffda, #1de9b6);
            color: #004d40;
            box-shadow: 0 0 15px rgba(29, 233, 182, 0.4);
        }

        .btn-deny {
            background: #455a64;
            color: #cfd8dc;
        }

        .magic-btn:hover {
            transform: scale(1.1) translateY(-2px);
            box-shadow: 0 5px 20px rgba(100, 255, 218, 0.6);
        }

        .btn-deny.moving {
            position: absolute;
        }

        /* --- CONTROLS --- */
        .controls-hint {
            position: fixed;
            bottom: 25px;
            width: 100%;
            text-align: center;
            color: rgba(100, 255, 218, 0.5);
            font-size: 0.9rem;
            z-index: 5;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .click-zone {
            position: fixed;
            top: 0;
            bottom: 0;
            width: 15%;
            z-index: 20;
            cursor: pointer;
        }

        .cz-left {
            left: 0;
        }

        .cz-right {
            right: 0;
        }

        .audio-toggle {
            position: fixed;
            bottom: 25px;
            right: 25px;
            width: 50px;
            height: 50px;
            background: rgba(0, 77, 64, 0.6);
            border: 2px solid #80cbc4;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #80cbc4;
            font-size: 1.4rem;
            cursor: pointer;
            z-index: 100;
            transition: all 0.3s;
        }

        .audio-toggle:hover {
            background: #004d40;
            box-shadow: 0 0 15px #80cbc4;
        }

        @media (max-width: 480px) {
            .notebook-container {
                width: 94vw;
                height: 68vh;
            }

            .cover-title {
                font-size: 2.4rem;
            }

            .page-content {
                padding: 2rem 1.5rem;
            }
        }
    </style>
</head>

<body>
    <!-- Background -->
    <div class="global-texture"></div>
    <div class="crystal-glow glow-1"></div>
    <div class="crystal-glow glow-2"></div>
    <div class="particles-container" id="wispContainer"></div>

    <!-- Intro -->
    <div class="intro-screen" id="intro">
        <h1 class="intro-title">The Crystal<br>Chronicles</h1>
        <button class="intro-btn" onclick="openDiary()">Enter The Forest</button>
    </div>

    <!-- Notebook -->
    <div class="notebook-container closed" id="diaryBook">
        <div class="binding-coil">
            <div class="coil-ring"></div>
            <div class="coil-ring"></div>
            <div class="coil-ring"></div>
            <div class="coil-ring"></div>
            <div class="coil-ring"></div>
            <div class="coil-ring"></div>
            <div class="coil-ring"></div>
            <div class="coil-ring"></div>
            <div class="coil-ring"></div>
            <div class="coil-ring"></div>
            <div class="coil-ring"></div>
            <div class="coil-ring"></div>
        </div>

        <div class="notebook" id="pagesStack">
            <!-- Cover -->
            <div class="page cover" style="z-index: 10;">
                <div class="cover-frame">
                    <div class="cover-inner">
                        <div class="cover-title">MYSTIC<br>JOURNAL</div>
                        <div class="cover-subtitle">Confidential Chronicles</div>
                    </div>
                </div>
            </div>

            <!-- Page 1 -->
            <div class="page" style="z-index: 9;">
                <div class="pageui-texture"></div>
                <div class="corner-rune tr">üêº</div>
                <div class="page-content">
                    <div class="journal-header">Ab Maaf Kardo Na üëâüëà</div>
                    <p>Are Deviiiiiiiiiiiiiiiiii maafffffffffffffffff kardooooooooooooooooooooooooooo
                        mujheeeeeeeeeeeeeeeeee üåø</p>
                    <div class="highlight-box">
                        "Aisa Doobara nhi karungaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa................. üò≠üò≠üò≠üò≠üò≠üò≠üò≠üò≠üò≠üò≠."
                    </div>
                    <p>Mujhe agar pahle se pata hota ki chanchal meri side leti h üò≠üò≠ to me kabhi aisa nhi sochta .</p>
                    <p>My "Algorithms" failed to predict the stormy weather of emotions. üåßÔ∏è I thought logic could solve
                        everything, but the heart isn't a puzzle to be solved; it's a garden to be tended.</p>
                    <p>And I... I may have trampled on the flowers instead of watering them.</p>
                </div>
                <!-- <div class="corner-rune bl">‚ú¶</div> -->
            </div>

            <!-- Page 2 -->
            <div class="page" style="z-index: 8;">
                <div class="pageui-texture"></div>
                <div class="corner-rune tr">‚öîÔ∏è</div>
                <div class="page-content">
                    <div class="journal-header">Pleaseeeeeeeeeee.........!!</div>
                    <p>Tumhe pareshan nhi karunga, kuch nhi kahunga, bbs tum mujhe maaf kardo</p>
                    <p>Because if the moon is not in the sky, then how can the paths will be bright ?</p>
                    <div class="highlight-box">
                        "Isiliye please, maafi.approve("all"); , please don't book.close("my chapter"); maaf
                        kardooooooo"
                    </div>

                    <br>
                    <center>
                        <button class="magic-btn btn-accept" onclick="triggerCrystal()">Reveal The Truth</button>
                    </center>
                </div>
            </div>

            <!-- Page 3 -->
            <div class="page" style="z-index: 7;">
                <div class="pageui-texture"></div>
                <div class="corner-rune tr">‚ú®</div>
                <div class="page-content">
                    <div class="journal-header">Your Heart Melted üò≠</div>
                    <p>Are me janta hu tum melt ho chuki hoo üò≠ü¶•‚ú®</p>

                    <div class="highlight-box">
                        Ab bs jaldi se maaf kardooooooooooooooooooooooooooo.
                    </div>
                    <p>Chalo firse dosti kar lete h ü¶• <br><br>Let's end this WAR.</p>
                    <p style="text-align:right; font-style:italic;">- Or me Haar Maan chuka hu üò≠</p>
                </div>
                <div class="corner-rune bl">‚ú®</div>
            </div>

            <!-- Back Cover -->
            <div class="page cover" style="z-index: 6;">
                <div class="cover-frame">
                    <div class="cover-inner">
                        <div class="cover-title" style="font-size:2rem;">Ab maafi dedo na<br>üëâüëà</div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Interface -->
    <div class="controls-hint">Tap Left/Right to Turn Pages</div>
    <div class="click-zone cz-left" onclick="flipBack()"></div>
    <div class="click-zone cz-right" onclick="flipForward()"></div>

    <div class="audio-toggle" onclick="toggleSound()">‚ô™</div>
    <audio id="ambientAudio" loop>
        <source src="./background.mp3" type="audio/mpeg">
    </audio>

    <!-- Crystal Overlay -->
    <div class="overlay" id="crystalOverlay">
        <!-- Step 1 -->
        <div class="crystal-card" id="step1">
            <img src="../26-01-2026/beg-dont-leave.gif" alt="Plea">
            <h2>Peace Offering</h2>
            <p>Can we bury the hatchet and plant a tree instead?</p>
            <div class="btn-group">
                <button class="magic-btn btn-accept" onclick="nextStep()">Yes, Let's Glow!</button>
                <button class="magic-btn btn-deny" id="fleeingBtn" onmouseover="dodgeBtn()" onclick="dodgeBtn()">Start
                    War</button>
            </div>
            <div style="margin-top:15px; font-size:0.8rem; cursor:pointer; opacity:0.6;" onclick="closeOverlay()">Close
                this vision</div>
        </div>

        <!-- Step 2 -->
        <div class="crystal-card" id="step2" style="display:none;">
            <img src="../26-01-2026/cat-holding-flowers.gif" alt="Happy">
            <h2>Victory!</h2>
            <p>maaf kar diya? üå≤‚ú®</p>
            <button class="magic-btn btn-accept" style="margin-top:20px;" onclick="closeOverlay()">Return to
                Reality</button>
        </div>
    </div>

    <script>
        /* --- PARTICLES --- */
        const wContainer = document.getElementById('wispContainer');
        for (let i = 0; i < 25; i++) {
            let w = document.createElement('div');
            w.className = 'wisp';
            let size = Math.random() * 6 + 3;
            w.style.width = size + 'px'; w.style.height = size + 'px';
            w.style.left = Math.random() * 100 + '%';
            w.style.animationDuration = (Math.random() * 10 + 10) + 's';
            w.style.animationDelay = (Math.random() * 10) + 's';
            wContainer.appendChild(w);
        }

        /* --- BOOK LOGIC --- */
        const pages = document.querySelectorAll('.page');
        let currentIdx = 0;
        const total = pages.length;

        // Init Stack
        pages.forEach((p, i) => {
            p.style.zIndex = total - i;
        });

        function openDiary() {
            document.getElementById('intro').classList.add('hidden');
            setTimeout(() => {
                document.getElementById('diaryBook').classList.remove('closed');
                playMusic();
            }, 600);
        }

        function flipForward() {
            if (currentIdx < total - 1) {
                pages[currentIdx].classList.add('flipped');
                pages[currentIdx].style.zIndex = 50 + currentIdx; // Ensure it stays on top of left stack
                currentIdx++;
            }
        }

        function flipBack() {
            if (currentIdx > 0) {
                currentIdx--;
                pages[currentIdx].classList.remove('flipped');
                setTimeout(() => {
                    pages[currentIdx].style.zIndex = total - currentIdx;
                }, 400); // Delay z-index reset slightly for smooth animation
            }
        }

        /* --- OVERLAY LOGIC --- */
        const overlay = document.getElementById('crystalOverlay');
        const s1 = document.getElementById('step1');
        const s2 = document.getElementById('step2');
        const runBtn = document.getElementById('fleeingBtn');

        function triggerCrystal() {
            overlay.style.display = 'flex';
            // force reflow
            void overlay.offsetWidth;
            overlay.style.opacity = '1';
        }

        function closeOverlay() {
            overlay.style.opacity = '0';
            setTimeout(() => {
                overlay.style.display = 'none';
                s1.style.display = 'block';
                s2.style.display = 'none';
            }, 500);
        }

        function nextStep() {
            s1.style.display = 'none';
            s2.style.display = 'block';
        }

        function dodgeBtn() {
            const x = Math.random() * (window.innerWidth - 100);
            const y = Math.random() * (window.innerHeight - 50);
            runBtn.style.position = 'fixed';
            runBtn.style.left = x + 'px';
            runBtn.style.top = y + 'px';
        }

        /* --- AUDIO --- */
        const audio = document.getElementById('ambientAudio');
        let isPlaying = false;

        function playMusic() {
            audio.play().then(() => {
                isPlaying = true;
            }).catch(e => console.log("Audio autoplay blocked"));
        }

        function toggleSound() {
            if (isPlaying) {
                audio.pause();
                isPlaying = false;
            } else {
                audio.play();
                isPlaying = true;
            }
        }
    </script>
</body>

</html>